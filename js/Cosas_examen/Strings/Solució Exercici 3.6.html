<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Exercici 3.6</title>
        <script type="text/javascript">

	function getLetterDNI(dni) {
    			
		var letters = ['T', 'R', 'W', 'A', 'G', 'M', 'Y', 'F', 'P', 'D', 'X', 'B', 'N', 'J', 'Z', 'S', 'Q', 'V', 'H', 'L', 'C', 'K', 'E'];
    	return letters[dni%23];
	}
		
		
	var myArray=[];
		
	function getDNI() {		
   	var info=prompt("Introduir el número de DNI o -1 per a acabar");
				
		if (info != "-1") {
			var number = Number(info);
			if (isNaN(number)) {
					alert("Número incorrecte");
					clearInterval(timeout);
					document.write(myArray.join(" ; "));
			} else {
				if (number <= 99999999 && number >0) {
					var letter=getLetterDNI(info);
					myArray.push(info + letter);
				} else {
					alert("Número incorrecte");	
					clearInterval(timeout);
					document.write(myArray.join(" ; "));					
				}
			}
		}
		else {
   		clearInterval(timeout);	
   		document.write(myArray.join(" ; "));
   	}
	}

	var timeout=setInterval(getDNI,10000);
	//var timeout=setInterval("getDNI();",10000);

        </script>
    </head>
    <body>
	</body>
</html>
